

<!DOCTYPE html>
<html class="loading" lang="en" data-textdirection="ltr">
  <%- include('../common/header.ejs'); %>

  <body
    class="vertical-layout vertical-menu-modern navbar-floating footer-static"
    data-open="click"
    data-menu="vertical-menu-modern"
    data-col=""
  >
    <%- include('../common/navbar.ejs'); %> 
    <%- include('../common/sidebar.ejs'); %>

    <div class="app-content content">
      <div class="content-wrapper">
        <div class="content-header row"></div>
        <div class="content-body">
          <div class="auth-wrapper">
            <div class="auth-inner py-2">
              <div class="card mb-0">
                <div class="card-body">
                  <form
                    id="validate"
                    action="/editprompts/<%= data.id %>"
                    method="POST"
                    enctype="multipart/form-data"
                    novalidate
                  >
                  <div class="mb-1">
                    <label for="text" class="form-label">Title</label>
                    <input
                      type="text"
                      class="form-control"
                      id="text"
                      name="text"
                      minlength="2"
                      maxlength="100"
                      value="<%= data.text %>"
                      required
                    />
                    <div class="invalid-feedback" id="textError"></div>
                  </div>
                    <div class="d-flex justify-content-end">
                      <button type="submit" class="btn btn-success mx-1">
                        Update
                      </button>
                      <a href="/prompt" class="btn btn-primary"
                        >Back</a
                      >
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
   
    <%- include('../common/footer.ejs'); %>

    <script src="../../../app-assets/vendors/js/vendors.min.js"></script>
    <script src="../../../app-assets/js/core/app-menu.js"></script>
    <script src="../../../app-assets/js/core/app.js"></script>

  >
    <script>
      $(window).on("load", function () {
        if (feather) {
          feather.replace({
            width: 14,
            height: 14,
          });
        }
      });
    </script>
 <script>
  function validateTitle(input) {
    const errorElement = document.getElementById("textError");

    if (!errorElement) return; 

    if (input.value.trim() === "") {
      errorElement.textContent = "Title is required.";
      errorElement.style.display = "block";
      input.classList.add("is-invalid");
      return false;
    } else if (input.value.startsWith(" ")) {
      errorElement.textContent = "Consecutive spaces are not allowed.";
      errorElement.style.display = "block";
      input.classList.add("is-invalid");
      return false;
    } else {
      errorElement.style.display = "none";
      input.classList.remove("is-invalid");
      return true;
    }
  }

  document.getElementById("validate").addEventListener("submit", function (event) {
    const titleInput = document.getElementById("text");
    const isValid = validateTitle(titleInput);

    if (!isValid) {
      event.preventDefault(); 
    }
  });

  document.getElementById("text").addEventListener("input", function () {
    validateTitle(this);
  });
</script>
  </body>
</html>


